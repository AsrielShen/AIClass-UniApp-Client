{"version":3,"file":"join-course.js","sources":["pages/courses/join-course.vue","../../../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY291cnNlcy9qb2luLWNvdXJzZS52dWU"],"sourcesContent":["<template>\r\n\t<view id=\"join-course\" class=\"bg-color\">\r\n\t\t<view class=\"join-block func-block\">\r\n\t\t\t<block-bar title=\"加入课程\" />\r\n\t\t\t<view class=\"join-action\">\r\n\t\t\t\t<view class=\"action-name\">\r\n\t\t\t\t\t课程码：\r\n\t\t\t\t</view>\r\n\t\t\t\t<input \r\n\t\t\t\t\tclass=\"input-box\" \r\n\t\t\t\t\tv-model=\"courseNum\" \r\n\t\t\t\t\tmaxlength=\"10\" \r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tfocus \r\n\t\t\t\t\tplaceholder=\"请输入课程码\"\r\n\t\t\t\t/>\r\n\t\t\t\t<button class=\"action-button\" @click=\"searchFunc\">\r\n\t\t\t\t\t查询\r\n\t\t\t\t</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"pop-up\" v-if=\"isShow\" @click=\"cancelShow\">\r\n\t\t\t<view class=\"pop-block\">\r\n\t\t\t\t<view class=\"pop-title\">\r\n\t\t\t\t\t查询课程\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"pop-content\">\r\n\t\t\t\t\t<view>课程名：{{course.courseName}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"pop-action\">\r\n\t\t\t\t\t<button class=\"button\" @click=\"joinSubmit\">加入</button>\r\n\t\t\t\t\t<button class=\"button\" @click=\"cancelShow\">取消</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\n\n<script setup>\nimport { ref } from \"vue\"\r\nimport { globalData } from '@/utils/config.js'\r\n\r\nconst isShow = ref();\r\nconst courseNum = ref('');\r\nconst course = ref({});\r\nconst userInfo = uni.getStorageSync('userInfo');\r\n\r\nconst cancelShow = ()=> {\r\n\tisShow.value = false;\r\n}\r\n\r\nconst searchFunc = ()=> {\r\n\tuni.request({\r\n\t\turl: globalData.baseUrl + '/course/getById/' + courseNum.value,\r\n\t\theader: {\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t},\r\n\t\tsuccess: (res) => {\r\n\t\t\tconst backData = res.data;\r\n\t\t\tif(backData.code === 0) {\r\n\t\t\t\tisShow.value = true;\r\n\t\t\t\tcourse.value = backData.data;\r\n\t\t\t\tconsole.log(course.value);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: \"查询失败！\",\r\n\t\t\t\t\ticon: \"error\"\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tfail: (e)=> {\r\n\t\t\tuni.showToast({ title: \"网络异常\", icon: 'error' })\r\n\t\t}\r\n\t})\r\n}\r\n\r\n\r\nconst joinSubmit = ()=> {\r\n\tuni.request({\r\n\t\turl: globalData.baseUrl + '/course/join/' + userInfo.token,\r\n\t\tmethod: 'POST',\r\n\t\tdata: course.value.id,\r\n\t\theader: {\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t},\r\n\t\tsuccess: (res) => {\r\n\t\t\tconst backData = res.data;\r\n\t\t\tconsole.log(backData);\r\n\t\t\tif(backData.code === 0) {\r\n\t\t\t\tcourseNum.value = '';\r\n\t\t\t\tcancelShow();\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: \"添加成功！\",\r\n\t\t\t\t\ticon: \"success\"\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse if(backData.code === 1){\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: \"添加失败！\",\r\n\t\t\t\t\ticon: \"error\"\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: \"认证错误，请重新登录\",\r\n\t\t\t\t\ticon: \"error\"\r\n\t\t\t\t});\r\n\t\t\t\tuni.removeStorageSync(\"userInfo\");\r\n\t\t\t\tuni.redirectTo({\r\n\t\t\t\t    url: \"/pages/user/login\" \r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tfail: (e)=> {\r\n\t\t\tuni.showToast({ title: \"网络异常\", icon: 'error' })\r\n\t\t}\r\n\t})\r\n}\r\n\n</script>\n\n<style lang=\"less\" scoped>\n#join-course {\r\n\t.join-block {\r\n\t\t.join-action {\r\n\t\t\tmargin: 20rpx 0;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\t.action-name {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\t&::before {\r\n\t\t\t\t\tcontent: '•';\r\n\t\t\t\t\tfont-size: 40rpx;\r\n\t\t\t\t\tcolor: #F37B1D;\r\n\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.input-box {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tmargin: 0 10rpx;\r\n\t\t\t}\r\n\t\t\t.action-button {\r\n\t\t\t\tmargin: 0;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tborder-radius: 25rpx;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tbackground-color: #39c5bb;\r\n\t\t\t\ttransition: 0.2s;\r\n\t\t\t\t&.disabled {\r\n\t\t\t\t    background-color: #A3D7D0;\r\n\t\t\t\t    color: #202b2a;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.pop-up {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground: rgba(0, 0, 0, 0.5);\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\t.pop-block {\r\n\t\t\twidth: 80%;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tpadding: 30rpx;\r\n\t\t\tborder-radius: 10rpx;\r\n\t\t\tbackground: white;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\ttext-align: center;\r\n\t\t\t.pop-content {\r\n\t\t\t\tmargin: 30rpx 0;\r\n\t\t\t\tpadding: 30rpx;\r\n\t\t\t\tbackground-color: #F6F6F6;\r\n\t\t\t}\r\n\t\t\t.pop-action {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\t.button {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\twidth: 200rpx;\r\n\t\t\t\t\tmargin: 0 50rpx;\r\n\t\t\t\t\tborder-radius: 25rpx;\r\n\t\t\t\t\tcolor: red;\r\n\t\t\t\t\tborder: 1rpx solid red;\r\n\t\t\t\t\tbackground-color: #fff;\r\n\t\t\t\t\t&:first-child {\r\n\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\tbackground-color: #39c5bb;\r\n\t\t\t\t\t\tborder: none\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\n</style>\n","import MiniProgramPage from 'C:/Users/19253/Desktop/AI-UniApp/ClientUniApp/pages/courses/join-course.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","globalData"],"mappings":";;;;;;;;;;;;;;AA0CA,UAAM,SAASA,cAAG,IAAA;AAClB,UAAM,YAAYA,cAAAA,IAAI,EAAE;AACxB,UAAM,SAASA,cAAAA,IAAI,CAAA,CAAE;AACrB,UAAM,WAAWC,cAAG,MAAC,eAAe,UAAU;AAE9C,UAAM,aAAa,MAAK;AACvB,aAAO,QAAQ;AAAA,IAChB;AAEA,UAAM,aAAa,MAAK;AACvBA,oBAAAA,MAAI,QAAQ;AAAA,QACX,KAAKC,aAAAA,WAAW,UAAU,qBAAqB,UAAU;AAAA,QACzD,QAAQ;AAAA,UACP,gBAAgB;AAAA,QAChB;AAAA,QACD,SAAS,CAAC,QAAQ;AACjB,gBAAM,WAAW,IAAI;AACrB,cAAG,SAAS,SAAS,GAAG;AACvB,mBAAO,QAAQ;AACf,mBAAO,QAAQ,SAAS;AACxBD,oFAAY,OAAO,KAAK;AAAA,UACxB,OACI;AACJA,0BAAAA,MAAI,UAAU;AAAA,cACb,OAAO;AAAA,cACP,MAAM;AAAA,YACX,CAAK;AAAA,UACD;AAAA,QACD;AAAA,QACD,MAAM,CAAC,MAAK;AACXA,wBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,SAAS;AAAA,QAC9C;AAAA,MACH,CAAE;AAAA,IACF;AAGA,UAAM,aAAa,MAAK;AACvBA,oBAAAA,MAAI,QAAQ;AAAA,QACX,KAAKC,aAAAA,WAAW,UAAU,kBAAkB,SAAS;AAAA,QACrD,QAAQ;AAAA,QACR,MAAM,OAAO,MAAM;AAAA,QACnB,QAAQ;AAAA,UACP,gBAAgB;AAAA,QAChB;AAAA,QACD,SAAS,CAAC,QAAQ;AACjB,gBAAM,WAAW,IAAI;AACrBD,wBAAAA,MAAY,MAAA,OAAA,uCAAA,QAAQ;AACpB,cAAG,SAAS,SAAS,GAAG;AACvB,sBAAU,QAAQ;AAClB;AACAA,0BAAAA,MAAI,UAAU;AAAA,cACb,OAAO;AAAA,cACP,MAAM;AAAA,YACX,CAAK;AAAA,UACD,WACO,SAAS,SAAS,GAAE;AAC3BA,0BAAAA,MAAI,UAAU;AAAA,cACb,OAAO;AAAA,cACP,MAAM;AAAA,YACX,CAAK;AAAA,UACD,OACI;AACJA,0BAAAA,MAAI,UAAU;AAAA,cACb,OAAO;AAAA,cACP,MAAM;AAAA,YACX,CAAK;AACDA,gCAAI,kBAAkB,UAAU;AAChCA,0BAAAA,MAAI,WAAW;AAAA,cACX,KAAK;AAAA,YACb,CAAK;AAAA,UACD;AAAA,QACD;AAAA,QACD,MAAM,CAAC,MAAK;AACXA,wBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,SAAS;AAAA,QAC9C;AAAA,MACH,CAAE;AAAA,IACF;;;;;;;;;;;;;;;;;;;;ACrHA,GAAG,WAAW,eAAe;"}