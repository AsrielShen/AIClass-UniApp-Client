{"version":3,"file":"random-call.js","sources":["pages/teacher/random-call.vue","../../../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdGVhY2hlci9yYW5kb20tY2FsbC52dWU"],"sourcesContent":["<template>\r\n\t<view id=\"random-call\" class=\"bg-color\">\r\n\t\t<view class=\"random-block func-block\">\r\n\t\t\t<block-bar title=\"随机点名\" />\r\n\t\t\t<view class=\"random-action\">\r\n\t\t\t\t<view class=\"action-name\">\r\n\t\t\t\t\t随机点名\r\n\t\t\t\t</view>\r\n\t\t\t\t<button class=\"action-button\" @click=\"randomCall\">\r\n\t\t\t\t\t点名\r\n\t\t\t\t</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"pop-up\" v-if=\"isShow\" @click=\"cancelShow\">\r\n\t\t\t<view class=\"pop-block\">\r\n\t\t\t\t<view class=\"pop-title\">\r\n\t\t\t\t\t点名结果\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"pop-content\">\r\n\t\t\t\t\t<view>学号：{{ studentId }}</view>\r\n\t\t\t\t\t<view>姓名：{{ studentName }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"pop-action\">\r\n\t\t\t\t\t<button class=\"button\" @click=\"pointSubmit\">加分</button>\r\n\t\t\t\t\t<button class=\"button\" @click=\"absenceSubmit\">缺勤</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\n\r\nconst isShow = ref(false);\r\nconst studentId = ref('');\r\nconst studentName = ref('');\r\n\r\nconst cancelShow = () => {\r\n\tisShow.value = false;\r\n}\r\n\r\nconst randomCall = () => {\r\n\tuni.request({\r\n\t\turl: 'http://127.0.0.1:1234/api/absence/random', // 接口地址\r\n\t\tmethod: 'GET',\r\n\t\tsuccess: (res) => {\r\n\t\t\tif (res.statusCode === 200) {\r\n\t\t\t\tconst studentInfo = res.data;\r\n\t\t\t\tstudentName.value = studentInfo.name;\r\n\t\t\t\tstudentId.value = studentInfo.studentId;\r\n\t\t\t\tisShow.value = true;\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '数据获取失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tfail: (err) => {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '网络请求失败,',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}\r\n\r\nconst pointSubmit = () => {\r\n\tuni.request({\r\n\t\turl:`http://127.0.0.1:1234/api/absence/mark-score/${studentId.value}`,\r\n\t\tmethod:'POST',\r\n\t\tsuccess: () => {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle:'加分记录成功',\r\n\t\t\t\ticon:'success'\r\n\t\t\t});\r\n\t\t\tcancelShow();\r\n\t\t},\r\n\t\tfail: () => {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle:'加分失败，请重试',\r\n\t\t\t\ticon:'fail'\r\n\t\t\t});\r\n\t\t}\r\n\t})\r\n\t// cancelShow();\r\n}\r\n\r\nconst absenceSubmit = () => {\r\n\tuni.request({\r\n\t\turl:`http://127.0.0.1:1234/api/absence/mark-absence/${studentId.value}`,\r\n\t\tmethod:'POST',\r\n\t\tsuccess: () => {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle:'缺勤记录成功',\r\n\t\t\t\ticon:'success'\r\n\t\t\t});\r\n\t\t\tcancelShow();\r\n\t\t},\r\n\t\tfail: () => {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle:'记录失败，请重试',\r\n\t\t\t\ticon:'ERROR'\r\n\t\t\t});\r\n\t\t}\r\n\t})\r\n\t// cancelShow();\r\n}\r\n</script>\r\n\r\n\r\n\r\n<style lang=\"less\">\r\n#random-call {\r\n\t.random-block {\r\n\t\t.random-action {\r\n\t\t\tmargin: 20rpx 0;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\t.action-name {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\t&::before {\r\n\t\t\t\t\tcontent: '•';\r\n\t\t\t\t\tfont-size: 40rpx;\r\n\t\t\t\t\tcolor: #F37B1D;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.action-button {\r\n\t\t\t\tmargin: 0;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tborder-radius: 25rpx;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tbackground-color: #39c5bb;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t.pop-up {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground: rgba(0, 0, 0, 0.5);\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\t.pop-block {\r\n\t\t\twidth: 80%;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tpadding: 30rpx;\r\n\t\t\tborder-radius: 10rpx;\r\n\t\t\tbackground: white;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\ttext-align: center;\r\n\t\t\t.pop-content {\r\n\t\t\t\tmargin: 30rpx 0;\r\n\t\t\t\tpadding: 30rpx;\r\n\t\t\t\tbackground-color: #F6F6F6;\r\n\t\t\t}\r\n\t\t\t.pop-action {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\t.button {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\twidth: 200rpx;\r\n\t\t\t\t\tmargin: 0 50rpx;\r\n\t\t\t\t\tborder-radius: 25rpx;\r\n\t\t\t\t\tcolor: red;\r\n\t\t\t\t\tborder: 1rpx solid red;\r\n\t\t\t\t\tbackground-color: #fff;\r\n\t\t\t\t\t&:first-child {\r\n\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\tbackground-color: #39c5bb;\r\n\t\t\t\t\t\tborder: none\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n \r\n</style>\r\n","import MiniProgramPage from 'C:/Users/19253/Desktop/AI-UniApp/ClientUniApp/pages/teacher/random-call.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","MiniProgramPage"],"mappings":";;;;;;;;;;;;;AAkCA,UAAM,SAASA,cAAAA,IAAI,KAAK;AACxB,UAAM,YAAYA,cAAAA,IAAI,EAAE;AACxB,UAAM,cAAcA,cAAAA,IAAI,EAAE;AAE1B,UAAM,aAAa,MAAM;AACxB,aAAO,QAAQ;AAAA,IAChB;AAEA,UAAM,aAAa,MAAM;AACxBC,oBAAAA,MAAI,QAAQ;AAAA,QACX,KAAK;AAAA;AAAA,QACL,QAAQ;AAAA,QACR,SAAS,CAAC,QAAQ;AACjB,cAAI,IAAI,eAAe,KAAK;AAC3B,kBAAM,cAAc,IAAI;AACxB,wBAAY,QAAQ,YAAY;AAChC,sBAAU,QAAQ,YAAY;AAC9B,mBAAO,QAAQ;AAAA,UACnB,OAAU;AACNA,0BAAAA,MAAI,UAAU;AAAA,cACb,OAAO;AAAA,cACP,MAAM;AAAA,YACX,CAAK;AAAA,UACD;AAAA,QACD;AAAA,QACD,MAAM,CAAC,QAAQ;AACdA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,MAAM;AAAA,UACV,CAAI;AAAA,QACD;AAAA,MACH,CAAE;AAAA,IACF;AAEA,UAAM,cAAc,MAAM;AACzBA,oBAAAA,MAAI,QAAQ;AAAA,QACX,KAAI,gDAAgD,UAAU,KAAK;AAAA,QACnE,QAAO;AAAA,QACP,SAAS,MAAM;AACdA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAM;AAAA,YACN,MAAK;AAAA,UACT,CAAI;AACD;QACA;AAAA,QACD,MAAM,MAAM;AACXA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAM;AAAA,YACN,MAAK;AAAA,UACT,CAAI;AAAA,QACD;AAAA,MACH,CAAE;AAAA,IAEF;AAEA,UAAM,gBAAgB,MAAM;AAC3BA,oBAAAA,MAAI,QAAQ;AAAA,QACX,KAAI,kDAAkD,UAAU,KAAK;AAAA,QACrE,QAAO;AAAA,QACP,SAAS,MAAM;AACdA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAM;AAAA,YACN,MAAK;AAAA,UACT,CAAI;AACD;QACA;AAAA,QACD,MAAM,MAAM;AACXA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAM;AAAA,YACN,MAAK;AAAA,UACT,CAAI;AAAA,QACD;AAAA,MACH,CAAE;AAAA,IAEF;;;;;;;;;;;;;;;;;;AC3GA,GAAG,WAAWC,SAAe;"}